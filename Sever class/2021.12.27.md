# 2021.12.27 수업 내용
## 메모리 관리 (new, delete 오버로딩)
### .cpp 파일 정의
1. 클래스의 선언과 정의를 .cpp에 함으로서
2. 
### 로그 남기기
1. 로그 상황 발생 시 한 번에 파일 열기->쓰기->닫기가 한 세트로 이루어져야 한다.
### new, delete

### define new(...)
1. 

## VS 2013 이후 new, delete 관련 사항 
1. VS 2013 이후
  <pre><code>
  int *p = new int;
  delete p;         // VS 2013 이후 delete 시 입력받은 인자(p)를 0x8123으로 바꾼다.
  
  *p = 10;          // VS 2013 이후 버전에서 에러 발생
  * 0 ~ 0xFFFF까지는 접근 금지 영역으로 메모리 접근 시 항상 Page fault 및 에러가 발생한다.
  </coede><pre>
  
## placement new
1. 일반 자료형
    <pre><code>
    // Case 1
    char * p = new char[400];
    int* pint = new (p) int[100]; => p가 가리키는 400bytes 메모리를 int type으로 공유함
    
    // Case 2
    char p[400];    // 허용
    int* pint = new (p) int[100]; => 위와 동일
    </code></pre>
2. 클래스
    <pre><code>
    // Case 1
    char * p = new char[400];
    CTest* pCls = (CTest*)p;        => p와 메모리를 공유하지만 생성자 호출이 일어나지 않는다.
    CTest* pCls2 = new (p) CTest;   => p와 메모리 공유, 생성자 호출까지 일어난다.
    </code></pre>
3. 응용
    <pre><code>
    CTest T1;
    // .. T1 데이터 변경
    T1.~CTest();        // T1 소멸자 호출
    new (&T1) CTest;    // placement new를 사용하여 T1 생성자 호출
    </code></pre>
    * T1에 대하여 객체 초기화가 필요한 경우 사용한다.
