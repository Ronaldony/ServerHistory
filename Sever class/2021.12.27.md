# C++
## 메모리 관리 (new, delete 오버로딩)
### .cpp 파일 정의
1. 클래스의 선언과 정의를 .cpp에 함으로서
2. 
### 로그 남기기
1. 로그 상황 발생 시 한 번에 파일 열기->쓰기->닫기가 한 세트로 이루어져야 한다.
### new, delete

### define new(...)
1. 

## VS 2013 이후 new, delete 관련 사항 
1. VS 2013 이후
  <pre><code>
  int *p = new int;
  delete p;         // VS 2013 이후 delete 시 입력받은 인자(p)를 0x8123으로 바꾼다.
  
  *p = 10;          // VS 2013 이후 버전에서 에러 발생
  * 0 ~ 0xFFFF까지는 접근 금지 영역으로 메모리 접근 시 항상 Page fault 및 에러가 발생한다.
  </coede></pre>
  
## placement new
1. 일반 자료형
    <pre><code>
    // Case 1
    char * p = new char[400];
    int* pint = new (p) int[100]; => p가 가리키는 400bytes 메모리를 int type으로 공유함
    
    // Case 2
    char p[400];    // 허용
    int* pint = new (p) int[100]; => 위와 동일
    </code></pre>
2. 클래스
    <pre><code>
    // Case 1
    char * p = new char[400];
    CTest* pCls = (CTest*)p;        => p와 메모리를 공유하지만 생성자 호출이 일어나지 않는다.
    CTest* pCls2 = new (p) CTest;   => p와 메모리 공유, 생성자 호출까지 일어난다.
    </code></pre>
3. 응용
    <pre><code>
    CTest T1;
    // .. T1 데이터 변경
    T1.~CTest();        // T1 소멸자 호출
    new (&T1) CTest;    // placement new를 사용하여 T1 생성자 호출
    * T1에 대하여 객체 초기화가 필요한 경우 사용한다.
    </code></pre>    

## 연산자 오버로딩
1. *, ->를 오버로딩하여 **스마트 포인터**로 활용할 수 있다.
2. ()를 오버로딩하여 **Functer**로 활용한다.

## 스마트 포인터
1. 주요 목적: delete를 자동화하는 기능
2. 생성자에서 멤버 변수로 동적ㄱ할당하고 함수 종료 시 delete 자동 호출
* 스크립터 언어는 포인터 개념이 없다. C++에서도 스마트 포인터를 활용하여 이 동작을 구현할 수 있다.

## Functer
1. 클래스를 함수처럼 활용하는 것을 목적으로 한다. 사실 함수 포인터의 동작과 동일한 원리이다.
2. 동일 부모 클래스를 상속한 다수의 클래스가 부모 클래스의 동일한 함수를 공유하며 자식 클래스에 따라 동작을 달리하고 싶은 경우 사용한다.

## String
1. char의 안정성, 편리함을 개선한 문법이다.
2. 메모리 크기, 명령어의 길이 등 성능의 저하로 서버측에서는 선호하지 않는다. 

## 캐스팅
1. 정수형<->실수형 변환은 특정 함수를 호출하여 변환이 이루어진다.
2. C++ 스타일 캐스팅 (*보충 필요*)
    1) static_cast(클래스를 위한 캐스팅): 컴파일 타임에 판단
        * 컴파일 과정에서 캐스팅 여부 판단하여 컴파일 결정
    2) const_cast(클래스를 위한 캐스팅): 런타임에 판단
        * 컴파일 과정에서 
    3) dynamic_cast(클래스를 위한 캐스팅): 컴파일 단계에서 관계를 고려하여 컴파일 여부를 결정하고 런타임에서 판단. (런타임에서 해당 메모리가 어떤 클래스인지 파악하는 함수를 활용 -> 성능 저하가 많이 일어남)
        * 부모-자식 관계에 놓지않은 캐스팅은 컴파일 에러 발생한다.
        * 런타임에서 캐스팅이 불가능한 캐스팅이라면 nullptr를 반환한다.
    4) reinterpret_cast
        * 모두 캐스팅 됨
