# 2022.01.21 수업(복습완료)
## 네트워크
### 허브
1. 랜선을 묶어주는 역할, 어떤 계층을 묶어줄거냐에 따라 나뉘어짐
    * 정확히는 L2 스위치
2. MAC 어드레스를 기반으로 컴퓨터를 찾는다.

### 라우터
1. OSI에서 L3 계층에 해당
2. 기능: IP 주소를 가지고서 어디로 갈 지 판단

### MAC 어드레스
1. 하드웨어마다 고유적으로 등록되는 이더넷 표준 식별자
    * IP는 바뀔 수 있지만 MAC은 바뀌지 않는다. 중복된 경우는 실수이다.
2. 네트워크 장비들은 이더넷 표준으로 만들어진다. 제조사가 랜카드를 생산할 때마다 IEEE 협회에 MAC 주소를 등록한다.

### 공유기
1. 보통 허브와 라우터 기능을 짬뽕한 형태이다.
2. 네트워크 입장에서는 공유기에 연결된 컴퓨터들의 정체를 모른다. 그저 공유기 하나만이 네트워크에 연결되었다고 본다.
    * 그러나 브라우저를 이용한 웹서핑을 하는 순간 HTTP 프로토콜 OSI 7계층에서 하드웨어 정보 수집 후 이를 분석 후 해당 MAC 어드레스를 차단할 수 있다.
    * IP Time 공유기는 MAC 어드레스를 변경 기능을 제공한다.

### IP
1. 공인 IP: 전세계에서 어디서든지 연결이 가능한 공인된 IP. 구매를 해야 한다.
    * 공인 IP 사용 시 전세계에서 공격이 들어온다.
2. 사설 IP: 사내, 개인적인 목적 등 임의로 만들어 사용하는 IP. (192.168...이 대표적)LAN 환경에서 사용할 수 있도록 하는 IP
    * 192.168은 공인 IP가 사설 IP를 위하여 비워둔 영역이다.
3. WAN(Wide Address Network)과 LAN(Local Address Network)
    1) WAN: 외부와 통신, 주황색 선.
    2) LAN: 내부와 통신. 
4. 내 IP 확인
    1) whois kisa에 내 IP 검색(네이버에서 "내 IP" 검색)
5. 사이버 신고
   1) 글에 대한 URL, 도메인을 바탕으로 사이트 관리자에게 해당 글의 작성자 정보(ID, 이메일, IP 등)를 요청한다. 이 정보를 바탕으로 악플러를 신고 할 수 있음

### 방화벽
1. 방화벽 기능
    1) 불필요한 Port(TCP/IP 환경)의 접근을 막는다.
        * 컴퓨터의 OS가 깔린 이상 기본적으로 여러개의 포트가 열려 있기 때문에 이 포트로 공격이 들어올 수 있기 때문에 이러한 기능이 필요하다.
        * 윈도우가 기본적으로 활성화시키는 SMB(Server Message Block)가 해커에게 노출되어 공격될 수 있음
    2) 특정 IP를 차단한다.
2. 공유기도 방화벽의 역할을 해준다.
3. Server Message Block(SMB): 도스나 윈도우에서 파일이나 디렉터리 및 주변 장치들을 공유하는데 사용되는 메시지 형식

### Port
1. TCP, UDP 환경에서 Port까지가 최종적 목적지이다.
2. Port는 프로세스와 연결이 된다. 프로세스가 Port를 열어야 비로소 연결된다.
3. 활성 연결 보기 명령: netstat -an
    * LISTENING 상태가 열린 상태이다.

## 윈도우 방화벽
### 방화벽
1. Windows Defender 방화벽
    1) 홈: 안전한 랜망이라고 판단하고 많은 네트워크 기능을 열어버림(폴더 공유, 멀티미디어 프로토콜 등..)
    2) 게스트 또는 공용 네트워크: 윈도우 방화벽 차원에서 방화벽 처리를 함
    * 따라서 공용 네트워크로 설정하는 것이 좋다.
2. 윈도우 방화벽 설정 절차
    1) Windows Defender 방화벽 경로: 제어판\시스템 및 보안\Windows Defender 방화벽
    2) 고급 설정
        * 인바운드 규칙: 규칙과 일치하지 않는 인바운드 연결이 차단하는 설정 -> 기본이 차단, 열고자하는 규칙을 넣어야 한다. 
        * 아웃바운드 규칙: 규칙과 일치하지 않는 아웃바운드 연결이 허용하는 설정 -> 기본이 허용, 차단할 연결을 넣어라!
        * 서버 운영 시에 어떤 Port가 쓰고 어떤 Port가 열려있는지 파악해야 한다. 이를 항시 모니터링 해야 한다.
        * 만약 홈 네트워크로 설정하면 필수 외 많은 규칙들이 열린다.
        * 프로그램 규칙 종류는 권장되지 않는다. 해당 프로그램에서 연 Port가 모두 열려 관리가 잘 안되기 때문이다. 
        * 유저용 OS에서는 서버 역할 프로그램을 실행시키면 자동으로 규칙에 등록된다. 하지만 서버전용 OS에서는 직접 규칙을 설정하여 열어야 한다.
    * 서버 프로그램이 계속해서 변경되거나 경로가 달라지는 경우 정상적으로 실행되는 것 처럼 보이지만 가끔 방화벽 문제가 생긴다. 이럴 때는 규칙 삭제 후 재등록해야 한다.
3. 인바운드, 아웃바운드
    1) 인바운드: 들어오는 것을 막겠다.
    2) 아웃바운드: 나가는 것을 막겠다. 어딘가로 연결을 요청하는 것을 막는 것이다
    * '것': IP, Protocol, Port, 패킷, 네트워크, 호스트, 도메인, 정책 등
4. DDoS 공격은 대규모적으로 행해지는 경우가 다반사이며 백본(IP회사가 계약한 총 회선)을 마비시킨다.
    * 백본 자체를 마비시키기 때문에 DDoS는 막을수가 없다.
    * 해결 방법: (1)버티기, (2) IP를 바꾸기 - 도메인에 등록된 IP를 바꾸거나, 또는 IP를 DDoS 존으로 옮겨 한 번 걸러진(우회) 사용자를 우리 서버로 접속하게끔 한다.
    * 회선 비용은 아웃바운드 쪽만 낸다.

### 캐시 서버
1. 최종적인 결과를 저장해놓는다. 웹 서버에는 적용하기 좋지만 게임 서버에 적용하는건 어렵다.
    * 웹 서버는 실시간 처리가 필요 없고 변화가 적기 때문에 캐시 서버 효과가 좋다.
2. 각 통신사(SK, KT..)들은 해외 서비스들(페이스북, 인스타그램)의 캐시 서버를 두어 국내에 서비스를 한다.
3. 예전에는 서버와 클라이언트 중간에 Proxy 서버를 두어 캐시 서버의 역할을 대신하였다.
    1) 현재의 Proxy 서버는 HTTP 프로토콜을 지원하는 대리자의 역할만 해준다.(우회 서버)

### 도메인
1. 이통사들은 정부에서 특정 도메인에 대해서 warning

## OSI 7 계층 모델
### 계층이 나눠지는 이유
1. 기능별로 필요한 요소들을 계층으로 나누고 표준화시켜서 모듈화 시키는 목적으로 나뉘어졌다.

### L1
1. 실제로 물리적인 형태를 가진 계층이다. 
    * 대표적인 케이블 표준에는 UTF-5, UTF-5e, UTF-6 등이 있다. 표준마다 전송량, 에러 발생률 등이 다르다. 전송 단위는 bit이다.
    * 케이블의 길이는 보통 100m로 기준을 잡는다. 그 이상은 신호가 떨어진다.

### L2
1. MAC 어드레스를 가진 랜카드, 이더넷 카드 등 이더넷 표준으로 분석하여 장치를 구분하는 계층이다.
    * 오직 어느 장치에서 어느 장치로 가는지만 구분해주는 계층이다. LAN 통신은 L2에 해당한다.
    * MAC 어드레스를 이더넷 표준으로 분석하여 어느 장치에 해당하는지 확인하는 계층이다.
2. L2는 OS의 개입이 적다. 이더넷 장치 제조사에서 커버한다.
3. 통신하고자하는 서버와 다이렉트로 랜선이 연결되어 있다면 L1-2만으로도 통신이 가능하다.
    * 예를 들어 구글 서버와 랜선 연결이 되어 있다면 L2로 통신 가능

### L3(라우터가 해당됨)
1. 최종 목적지를 결정하는 경로를 만드는 계층이다. 내부가 아닌 외부로 전송 시 필요하다.
    * "여러 장치를 거칠건데 목적지는 여기입니다."가 나오는 네트워크 계층이다.
    * IP라는 논리적인 주소가 나와야한다.
2. L3, L4는 소프트웨어로 구현되어 있는 커널 코드이다.

## 기타 키워드
### 리피터
* 리피터: 신호 증폭 장치. 케이블이 긴 경우 중간 중간 리피터를 설치하여 신호를 증폭시킬 수 있다.

### 키로거
* 아이프레임 코드를 웹사이트에 넣어놔 컴퓨터가 받아들이는 입력 정보의 기록, 그 중에서도 주로 키보드를 통한 입력의 기록을 제작하는 장치를 말한다. 대개 사용자의 동의 없이 기록을 만들고 전송하는 방식의 크래킹 도구로 쓰인다.
* 주로 아이디를 해킹할 때 사용된다.

### 인터넷
1. SK 통신 너무 느림, 거진 KT 사용
2. 해저케이블은 엄청 느림

### 인터뷰
1. 스택과 힙 차이점 설명 등
    * 작동 방식, 어떻게 사용되는지, 생성시점부터 어떻게 사이즈가 늘어가는지 스택오버를 판단하는지, 어떻게 Commit 크기를 늘려가는지 등등 쭉쭉 설명할 수 있는 수준이 되어야 한다.
    * Stack은 쓰레드의 것!

### 1% 네트워크
1. Skip 챕터
    * ADSL, 광통신, PPP 등은 넘어가기. 우리의 목적은 프로토콜, 양 사이드(클라이언트, 서버)에서 이루어지는 일을 알고싶은 것임
