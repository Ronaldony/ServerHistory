# 6화 P2P,Relay 서버 방식
## P2P와 Relay
### P2P(Peer To Peer)
1. Client와 Client가 연결하는 방식
    1) 방식1: 방장에게만 연결하는 방식
        * 장점: 각 클라이언트가 연결해야하는 수가 적음, 방장이 심판 역할을 할 수 있음
        * 단점: 방장이 나가면 방이 폭파됨.
        * 방이 폭파된 경우 새로운 방장을 뽑아 게임을 진행하는 형태가 있다.
    3) 방식2: 모두가 모두에게 연결하는 방식(플리컬 애션 방식)
        * 장점: 어느 누가 나가도 방이 유지됨
        * 단점: 

### Relay
1. 방식: 모든 클라이언트가 서버에 연결됨

### P2P와 Relay의 차이점
1. P2P의 가장 큰 문제점: 다른 Client와 통신 시에 어떤 IP로 보내야 할 지 모르게 되는 상황이 된다.
    * Client가 서로 공인 IP 가지지 않고 앞에 NAT장비로 가려져 있기 때문이다. 
2. 위 문제를 해결하기 위한 기술
    1) 홀 펀칭: 다른 Peer에 Back door같은 길을 뚫어주어 P2P 통신이 가능하게 하는 기술(7화에서 한 번 더 다룸)

### IP
1. IP Mapping: 맨 앞에 컴퓨터에만 고정 IP를 부여하고(공인IP) 이 IP로 모든 패킷을 받아 다른 컴퓨터(사설 IP)에게 분배를 하는 기술
    * IPv4에 적용되어 IPv6를 사용하지 않고도 충분한 IP를 제공하는 기술
    * NAT 장비들이 이러한 역할을 한다.
2. TCP와 UDP 차이점
    1) TCP는 외부 서버 IP와 연결을 맺어 패킷을 주고 받을 수 있다.
    2) UDP의 경우 연결을 맺지않아 서버->사설 IP로 패킷을 보낼 수 없다. (역은 가능)
