# 2022.01.19 수업(복습 완료)
## 전통 2D 게임 제작
* 제작 목적: 이미지 처리를 알고리즘을 짜되 마지막에만 GDI 기능을 사용하여 화면에 출력하자!

### 게임 그래픽 출력
1. Windows는 95부터 독립적인 OS 형태가 되었다.
    * MS는 DirectX를 지원하여 멀티미디어 프로그래밍 지원했다. 동영상, 게임 그래픽 처리 등에 사용하도록

### 스프라이트
1. 현장에서는 스프라이트 툴을 사용하여 캐릭마다, 배경마다 행동 및 다양한 이미지들을 독립적으로 관리한다.
2. 중점(Origin Point, Center Point)
    1) 캐릭터 개체의 스프라이트를 그리기 위한 실제 위치, 이미지 크기 안에서 중점을 정한다. 스프라이트의 한 장 한 장마다 다른 중점을 가진다.
        * 해당 게임 제작에선 바닥을 중점으로 한다.
        * 프로그램 메모리 상에서 해당 개체는 중점으로 계산되어야 한다.(충돌 처리 등도 이 중점을 기준으로 처리한다.)
        * 스프라이트를 그릴 때는 중점 위치에서 0,0 위치를 계산하여 렌더링한다.

### 클립핑
1. 화면 출력 시 윈도우의 픽셀 너비, 높이 크기에 맞게 이미지 픽셀을 잘라내는 것 

### 칼라키
1. 특정색을 투명화(제외) 시키는 기법
2. BMP같은 고전적인 2D 이미지는 투명색을 지정해서 투명색을 화면 출력에서 제외시켜 버린다.
3. 3D에서는 알파 채널을 사용하여 처리한다. 

### 키보드 입력
1. 키보드 입력은 객체 안으로 넣지말고 전역함수로 처리해야 한다. 처리된 입력은 플레이어에게 메시지 형태로 전달되어야 한다.
    * 네트워크 게임인 경우 자신과 다른 플레이어들의 행동을 동일하게 처리하고 오류를 수정하기 위해서는 **같은 형태의 처리**가 이루어져야 한다.
    * 캐릭터 객체 입장에서는 내 캐릭터와 다른 캐릭의 처리에 차이점이 없어야 한다.
2. 게임이 여러개 켜 있을 때 GetKeyAsyncstate()를 사용하면 콘솔 버퍼에서 키보드 입력 버퍼를 가져와 확인하기 때문에 모든 게임 화면에서 

### 프레임
1. 서버와의 프레임을 맞추기 위하여 목표 FPS +0, +1 내로 설계하여야 한다.
2. 프레임이 정해진 게임인 경우 시간의 개념이 아닌 무조건 프레임 단위로 모든 동작, 처리 등이 이루어져야 한다. => 프레임이 곧 시간의 개념
    * 따라서 스프라이트마다 프레임 딜레이 수를 정하여 매 프레임마다 체크하여 스프라이트를 업데이트 해야한다.

### 네트워크 전송의 시점
1. 액션의 변화가 있는 경우에 네트워크 전송이 이루어진다.

### 네트워크 게임 제작 시 고민 사항
1. 처음부터 네트워크를 고려하여 만들어야 하는지, 싱글처럼 만들고 나중에 네트워크를 붙일 수 있나?
    * 당연히 싱글처럼 만들고 네트워크를 붙여야 한다.
    * 이를 수월히하기 위해서는 키보드 입력부와 플레이어의 액션부를 따로 분리시켜 놓아야 한다.

### 기타 잡 지식
1. 코코스 2D 엔진: 전통 2D 느낌의 개발 툴
2. TexturePacker: 스프라이트 툴 대용(코코스 2D에서 인식)
    * 파일로 분리된 각각의 이미지들을 한 파일에 이미지에 통합시켜준다. 이 통합된 이미지 파일에 대한 행동마다의 좌표가 기록된 XML을 제공하여 사용자가 이미지를 사용하게 한다.
3. MSX: MS와 팩 꽂아서 
